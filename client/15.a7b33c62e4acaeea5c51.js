(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1505:function(e,t,r){"use strict";r.d(t,"a",function(){return b});r(88),r(43);var a=r(30),o=r.n(a),n=r(7),s=r.n(n),l=r(56),i=r(1482);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,m(t).apply(this,arguments))}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,s.a.PureComponent),r=t,(a=[{key:"render",value:function(){return s.a.createElement("div",{id:"back_button",className:"signup-header"},s.a.createElement(i.a,{onClick:this.props.onClick,to:this.props.url},s.a.createElement(l.c,{id:"generic_icons.back",defaultMessage:"Back Icon"},function(e){return s.a.createElement("span",{id:"back_button_icon",className:"fa fa-1x fa-angle-left",title:e})}),s.a.createElement(l.c,{id:"web.header.back",defaultMessage:"Back"})))}}])&&u(r.prototype,a),o&&u(r,o),t}();d(b,"propTypes",{url:o.a.string,onClick:o.a.func}),d(b,"defaultProps",{url:"/"})},1510:function(e,t,r){e.exports=r.p+"files/786f906c373b98400b1e6f6c3341ce7d.png"},1612:function(e,t,r){"use strict";r.d(t,"a",function(){return w});r(88),r(43),r(120);var a=r(30),o=r.n(a),n=r(7),s=r.n(n),l=r(56),i=r(23),c=r(57),u=r(1521),p=r(1499);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,o=d(t).call(this,e),r=!o||"object"!==m(o)&&"function"!=typeof o?b(a):o,y(b(r),"handleChange",function(e){e.preventDefault();var t=e.target.value.trim().replace(/\s/g,"");t!==r.state.token&&r.setState({token:t})}),y(b(r),"handleSubmit",function(e){e.preventDefault();var t={serverError:"",saving:!0};r.setState(t),r.props.submit(r.props.loginId,r.props.password,r.state.token)}),r.state={saving:!1,token:"",serverError:""},r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,s.a.PureComponent),r=t,(a=[{key:"render",value:function(){var e,t="";return this.state.serverError&&(e=s.a.createElement("label",{className:"control-label"},this.state.serverError),t=" has-error"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"signup__email-container"},s.a.createElement("p",null,s.a.createElement(l.c,{id:"login_mfa.enterToken",defaultMessage:"To complete the sign in process, please enter a token from your smartphone's authenticator"})),s.a.createElement("div",{className:"form-group"+t},e),s.a.createElement("div",{className:"form-group"+t},s.a.createElement(p.a,{type:"text",className:"form-control",name:"token",placeholder:{id:Object(c.b)("login_mfa.token"),defaultMessage:"MFA Token"},spellCheck:"false",autoComplete:"off",autoFocus:!0,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement(u.a,{saving:this.state.saving,disabled:this.state.saving,onClick:this.handleSubmit,defaultMessage:Object(i.ab)("login_mfa.submit","Submit"),savingMessage:Object(i.ab)("login_mfa.submitting","Submitting...")}))))}}])&&f(r.prototype,a),o&&f(r,o),t}();y(w,"propTypes",{loginId:o.a.string.isRequired,password:o.a.string.isRequired,submit:o.a.func.isRequired})},2361:function(e,t,r){"use strict";r.r(t);var a=r(418),o=r(20),n=r(40),s=r(24),l=r(23),i=(r(88),r(43),r(247),r(304),r(30)),c=r.n(i),u=r(7),p=r.n(u),m=r(435),f=r(1510),d=r.n(f),b=r(1505),h=r(419),y=r.n(h),w=r(56),v=r(1496),E=r(0),_=r(57),g=r(1499);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k,M,C,T=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=O(t).call(this,e))||"object"!==S(o)&&"function"!=typeof o?N(a):o).submit=r.submit.bind(N(r)),r.state={},r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,p.a.PureComponent),r=t,(a=[{key:"submit",value:function(e){var t=this;e.preventDefault();var r={},a=y.a.findDOMNode(this.refs.password).value;if(!a)return r.error=l.ab("claim.oauth_to_email.enterPwd","Please enter a password."),void this.setState(r);var o=l.X(a,this.props.passwordConfig),n=o.valid,s=o.error;if(n||!s){var i=y.a.findDOMNode(this.refs.passwordconfirm).value;if(!i||a!==i)return r.error=l.ab("claim.oauth_to_email.pwdNotMatch","Passwords do not match."),void this.setState(r);r.error=null,this.setState(r),Object(v.v)(this.props.currentType,this.props.email,a,function(e){e.follow_link&&(window.location.href=e.follow_link)},function(e){t.setState({error:e.message})})}else this.setState({error:s})}},{key:"render",value:function(){var e=null;this.state.error&&(e=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.error)));var t="form-group";e&&(t+=" has-error");var r="".concat(this.props.currentType===E.Q.SAML_SERVICE?E.Q.SAML_SERVICE.toUpperCase():l.kb(this.props.currentType)," SSO");return p.a.createElement("div",null,p.a.createElement("h3",null,p.a.createElement(w.c,{id:"claim.oauth_to_email.title",defaultMessage:"Switch {type} Account to Email",values:{type:r}})),p.a.createElement("form",{onSubmit:this.submit},p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.oauth_to_email.description",defaultMessage:"Upon changing your account type, you will only be able to login with your email and password."})),p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.oauth_to_email.enterNewPwd",defaultMessage:"Enter a new password for your {site} email account",values:{site:this.props.siteName}})),p.a.createElement("div",{className:t},p.a.createElement(g.a,{type:"password",className:"form-control",name:"password",ref:"password",placeholder:{id:Object(_.b)("claim.oauth_to_email.newPwd"),defaultMessage:"New Password"},spellCheck:"false"})),p.a.createElement("div",{className:t},p.a.createElement(g.a,{type:"password",className:"form-control",name:"passwordconfirm",ref:"passwordconfirm",placeholder:{id:Object(_.b)("claim.oauth_to_email.confirm"),defaultMessage:"Confirm Password"},spellCheck:"false"})),e,p.a.createElement("button",{type:"submit",className:"btn btn-primary"},p.a.createElement(w.c,{id:"claim.oauth_to_email.switchTo",defaultMessage:"Switch {type} to email and password",values:{type:r}}))))}}])&&P(r.prototype,a),o&&P(r,o),t}();k=T,M="propTypes",C={currentType:c.a.string,email:c.a.string,siteName:c.a.string,passwordConfig:c.a.object},M in k?Object.defineProperty(k,M,{value:C,enumerable:!0,configurable:!0,writable:!0}):k[M]=C;var D=r(1612);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=R(t).call(this,e))||"object"!==L(o)&&"function"!=typeof o?I(a):o).submit=r.submit.bind(I(r)),r.preSubmit=r.preSubmit.bind(I(r)),r.state={showMfa:!1,password:""},r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,p.a.PureComponent),r=t,(a=[{key:"preSubmit",value:function(e){e.preventDefault();var t={},r=y.a.findDOMNode(this.refs.password).value;if(!r)return t.error=l.ab("claim.email_to_oauth.pwdError","Please enter your password."),void this.setState(t);this.setState({password:r}),t.error=null,this.setState(t),this.submit(this.props.email,r,"")}},{key:"submit",value:function(e,t,r){var a=this;Object(v.k)(e,t,r,this.props.newType,function(e){e.follow_link&&(window.location.href=e.follow_link)},function(e){a.state.showMfa||"mfa.validate_token.authenticate.app_error"!==e.server_error_id?a.setState({error:e.message,showMfa:!1}):a.setState({showMfa:!0})})}},{key:"render",value:function(){var e=null;this.state.error&&(e=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.error)));var t="form-group";e&&(t+=" has-error");var r,a=this.props.newType===E.Q.SAML_SERVICE?E.Q.SAML_SERVICE.toUpperCase():l.kb(this.props.newType),o="".concat(a," SSO");return r=this.state.showMfa?p.a.createElement(D.a,{loginId:this.props.email,password:this.state.password,submit:this.submit}):p.a.createElement("form",{onSubmit:this.preSubmit},p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.email_to_oauth.ssoType",defaultMessage:"Upon claiming your account, you will only be able to login with {type} SSO",values:{type:a}})),p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.email_to_oauth.ssoNote",defaultMessage:"You must already have a valid {type} account",values:{type:a}})),p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.email_to_oauth.enterPwd",defaultMessage:"Enter the password for your {site} account",values:{site:this.props.siteName}})),p.a.createElement("div",{className:t},p.a.createElement(g.a,{type:"password",className:"form-control",name:"password",ref:"password",placeholder:{id:Object(_.b)("claim.email_to_oauth.pwd"),defaultMessage:"Password"},spellCheck:"false"})),e,p.a.createElement("button",{type:"submit",className:"btn btn-primary"},p.a.createElement(w.c,{id:"claim.email_to_oauth.switchTo",defaultMessage:"Switch account to {uiType}",values:{uiType:o}}))),p.a.createElement("div",null,p.a.createElement("h3",null,p.a.createElement(w.c,{id:"claim.email_to_oauth.title",defaultMessage:"Switch Email/Password Account to {uiType}",values:{uiType:o}})),r)}}])&&A(r.prototype,a),o&&A(r,o),t}();!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(F,"propTypes",{newType:c.a.string,email:c.a.string,siteName:c.a.string});r(185);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=Q(t).call(this,e))||"object"!==q(o)&&"function"!=typeof o?V(a):o).submit=r.submit.bind(V(r)),r.preSubmit=r.preSubmit.bind(V(r)),r.state={passwordError:"",confirmError:"",ldapPasswordError:"",serverError:""},r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,p.a.Component),r=t,(a=[{key:"preSubmit",value:function(e){e.preventDefault();var t={passwordError:"",confirmError:"",ldapPasswordError:"",serverError:""},r=this.refs.ldappassword.value;if(!r)return t.ldapPasswordError=l.ab("claim.ldap_to_email.ldapPasswordError","Please enter your AD/LDAP password."),void this.setState(t);var a=this.refs.password.value;if(!a)return t.passwordError=l.ab("claim.ldap_to_email.pwdError","Please enter your password."),void this.setState(t);var o=l.X(a,this.props.passwordConfig),n=o.valid,s=o.error;if(n||!s){var i=this.refs.passwordconfirm.value;if(!i||a!==i)return t.confirmError=l.ab("claim.ldap_to_email.pwdNotMatch","Passwords do not match."),void this.setState(t);t.password=a,t.ldapPassword=r,this.setState(t),this.submit(this.props.email,a,"",r)}else this.setState({passwordError:s})}},{key:"submit",value:function(e,t,r,a){var o=this;this.props.switchLdapToEmail(a||this.state.ldapPassword,this.props.email,t,r).then(function(e){var t=e.data,r=e.error;t&&t.follow_link?window.location.href=t.follow_link:r&&(r.server_error_id.startsWith("model.user.is_valid.pwd")?o.setState({passwordError:r.message,showMfa:!1}):"ent.ldap.do_login.invalid_password.app_error"===r.server_error_id?o.setState({ldapPasswordError:r.message,showMfa:!1}):o.state.showMfa||"mfa.validate_token.authenticate.app_error"!==r.server_error_id?o.setState({serverError:r.message,showMfa:!1}):o.setState({showMfa:!0}))})}},{key:"render",value:function(){var e=null,t="form-group";this.state.serverError&&(e=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.serverError)),t+=" has-error");var r=null,a="form-group";this.state.passwordError&&(r=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.passwordError)),a+=" has-error");var o=null,n="form-group";this.state.ldapPasswordError&&(o=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.ldapPasswordError)),n+=" has-error");var s=null,i="form-group";this.state.confirmError&&(s=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.confirmError)),i+=" has-error");var c,u=l.ab("claim.ldap_to_email.ldapPwd","AD/LDAP Password");return c=this.state.showMfa?p.a.createElement(D.a,{loginId:this.props.email,password:this.state.password,submit:this.submit}):p.a.createElement("form",{onSubmit:this.preSubmit,className:t},p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.ldap_to_email.email",defaultMessage:"After switching your authentication method, you will use {email} to login. Your AD/LDAP credentials will no longer allow access to Mattermost.",values:{email:this.props.email}})),p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.ldap_to_email.enterLdapPwd",defaultMessage:"{ldapPassword}:",values:{ldapPassword:u}})),p.a.createElement("div",{className:n},p.a.createElement("input",{type:"password",className:"form-control",name:"ldapPassword",ref:"ldappassword",placeholder:u,spellCheck:"false"})),o,p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.ldap_to_email.enterPwd",defaultMessage:"New email login password:"})),p.a.createElement("div",{className:a},p.a.createElement(g.a,{type:"password",className:"form-control",name:"password",ref:"password",placeholder:{id:Object(_.b)("claim.ldap_to_email.pwd"),defaultMessage:"Password"},spellCheck:"false"})),r,p.a.createElement("div",{className:i},p.a.createElement(g.a,{type:"password",className:"form-control",name:"passwordconfirm",ref:"passwordconfirm",placeholder:{id:Object(_.b)("claim.ldap_to_email.confirm"),defaultMessage:"Confirm Password"},spellCheck:"false"})),s,p.a.createElement("button",{type:"submit",className:"btn btn-primary"},p.a.createElement(w.c,{id:"claim.ldap_to_email.switchTo",defaultMessage:"Switch account to email/password"})),e),p.a.createElement("div",null,p.a.createElement("h3",null,p.a.createElement(w.c,{id:"claim.ldap_to_email.title",defaultMessage:"Switch AD/LDAP Account to Email/Password"})),c)}}])&&U(r.prototype,a),o&&U(r,o),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Y,"propTypes",{email:c.a.string,passwordConfig:c.a.object,switchLdapToEmail:c.a.func.isRequired});var H=function(e){function t(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(r=!(o=W(t).call(this,e))||"object"!==J(o)&&"function"!=typeof o?z(a):o).submit=r.submit.bind(z(r)),r.preSubmit=r.preSubmit.bind(z(r)),r.state={passwordError:"",ldapError:"",ldapPasswordError:"",serverError:"",showMfa:!1},r}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,p.a.Component),r=t,(a=[{key:"preSubmit",value:function(e){e.preventDefault();var t={passwordError:"",ldapError:"",ldapPasswordError:"",serverError:""},r=this.refs.emailpassword.value;if(!r)return t.passwordError=l.ab("claim.email_to_ldap.pwdError","Please enter your password."),void this.setState(t);var a=this.refs.ldapid.value.trim();if(!a)return t.ldapError=l.ab("claim.email_to_ldap.ldapIdError","Please enter your AD/LDAP ID."),void this.setState(t);var o=this.refs.ldappassword.value;if(!o)return t.ldapPasswordError=l.ab("claim.email_to_ldap.ldapPasswordError","Please enter your AD/LDAP password."),void this.setState(t);t.password=r,t.ldapId=a,t.ldapPassword=o,this.setState(t),this.submit(this.props.email,r,"",a,o)}},{key:"submit",value:function(e,t,r,a,o){var n=this;Object(v.j)(e,t,r,a||this.state.ldapId,o||this.state.ldapPassword,function(e){e.follow_link&&(window.location.href=e.follow_link)},function(e){if(n.state.showMfa||"mfa.validate_token.authenticate.app_error"!==e.server_error_id)switch(e.id){case"ent.ldap.do_login.user_not_registered.app_error":case"ent.ldap.do_login.user_filtered.app_error":case"ent.ldap.do_login.matched_to_many_users.app_error":n.setState({ldapError:e.message,showMfa:!1});break;case"ent.ldap.do_login.invalid_password.app_error":n.setState({ldapPasswordError:e.message,showMfa:!1});break;case"api.user.check_user_password.invalid.app_error":n.setState({passwordError:e.message,showMfa:!1});break;default:n.setState({serverError:e.message,showMfa:!1})}else n.setState({showMfa:!0})})}},{key:"render",value:function(){var e=null,t="form-group";this.state.serverError&&(e=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.serverError)),t+=" has-error");var r=null,a="form-group";this.state.passwordError&&(r=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.passwordError)),a+=" has-error");var o=null,n="form-group";this.state.ldapError&&(o=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.ldapError)),n+=" has-error");var s,i,c=null,u="form-group";return this.state.ldapPasswordError&&(c=p.a.createElement("div",{className:"form-group has-error"},p.a.createElement("label",{className:"control-label"},this.state.ldapPasswordError)),u+=" has-error"),s=this.props.ldapLoginFieldName?this.props.ldapLoginFieldName:l.ab("claim.email_to_ldap.ldapId","AD/LDAP ID"),i=this.state.showMfa?p.a.createElement(D.a,{loginId:this.props.email,password:this.state.password,submit:this.submit}):p.a.createElement("form",{onSubmit:this.preSubmit,className:t},p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.email_to_ldap.ssoType",defaultMessage:"Upon claiming your account, you will only be able to login with AD/LDAP"})),p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.email_to_ldap.ssoNote",defaultMessage:"You must already have a valid AD/LDAP account"})),p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.email_to_ldap.enterPwd",defaultMessage:"Enter the password for your {site} email account",values:{site:this.props.siteName}})),p.a.createElement("input",{type:"text",style:K.usernameInput,name:"fakeusernameremembered"}),p.a.createElement("div",{className:a},p.a.createElement(g.a,{type:"password",className:"form-control",name:"emailPassword",ref:"emailpassword",autoComplete:"off",placeholder:{id:Object(_.b)("claim.email_to_ldap.pwd"),defaultMessage:"Password"},spellCheck:"false"})),r,p.a.createElement("p",null,p.a.createElement(w.c,{id:"claim.email_to_ldap.enterLdapPwd",defaultMessage:"Enter the ID and password for your AD/LDAP account"})),p.a.createElement("div",{className:n},p.a.createElement("input",{type:"text",className:"form-control",name:"ldapId",ref:"ldapid",autoComplete:"off",placeholder:s,spellCheck:"false"})),o,p.a.createElement("div",{className:u},p.a.createElement(g.a,{type:"password",className:"form-control",name:"ldapPassword",ref:"ldappassword",autoComplete:"off",placeholder:{id:Object(_.b)("claim.email_to_ldap.ldapPwd"),defaultMessage:"AD/LDAP Password"},spellCheck:"false"})),c,p.a.createElement("button",{type:"submit",className:"btn btn-primary"},p.a.createElement(w.c,{id:"claim.email_to_ldap.switchTo",defaultMessage:"Switch account to AD/LDAP"})),e),p.a.createElement("div",null,p.a.createElement("h3",null,p.a.createElement(w.c,{id:"claim.email_to_ldap.title",defaultMessage:"Switch Email/Password Account to AD/LDAP"})),i)}}])&&X(r.prototype,a),o&&X(r,o),t}();!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(H,"propTypes",{email:c.a.string,siteName:c.a.string,ldapLoginFieldName:c.a.string});var K={usernameInput:{display:"none"}};function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ee(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).apply(this,arguments))}var r,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,p.a.PureComponent),r=t,(a=[{key:"render",value:function(){var e=this,t=new URLSearchParams(this.props.location.search).get("email"),r=new URLSearchParams(this.props.location.search).get("new_type"),a=new URLSearchParams(this.props.location.search).get("old_type");return p.a.createElement("div",null,p.a.createElement(b.a,null),p.a.createElement("div",{className:"col-sm-12"},p.a.createElement("div",{className:"signup-team__container"},p.a.createElement("img",{alt:"signup logo",className:"signup-team-logo",src:d.a}),p.a.createElement("div",{id:"claim"},p.a.createElement(m.d,null,p.a.createElement(m.b,{path:"".concat(this.props.match.url,"/oauth_to_email"),render:function(){return p.a.createElement(T,{currentType:a,email:t,siteName:e.props.siteName,passwordConfig:e.props.passwordConfig})}}),p.a.createElement(m.b,{path:"".concat(this.props.match.url,"/email_to_oauth"),render:function(){return p.a.createElement(F,{newType:r,email:t,siteName:e.props.siteName})}}),p.a.createElement(m.b,{path:"".concat(this.props.match.url,"/ldap_to_email"),render:function(){return p.a.createElement(Y,{email:t,passwordConfig:e.props.passwordConfig,switchLdapToEmail:e.props.actions.switchLdapToEmail})}}),p.a.createElement(m.b,{path:"".concat(this.props.match.url,"/email_to_ldap"),render:function(){return p.a.createElement(H,{email:t,siteName:e.props.siteName,ldapLoginFieldName:e.props.ldapLoginFieldName})}}))))))}}])&&$(r.prototype,a),o&&$(r,o),t}();!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ae,"propTypes",{location:c.a.object.isRequired,siteName:c.a.string,ldapLoginFieldName:c.a.string,passwordConfig:c.a.object,match:c.a.shape({url:c.a.string.isRequired}).isRequired,actions:c.a.shape({switchLdapToEmail:c.a.func.isRequired}).isRequired});t.default=Object(a.connect)(function(e){var t=Object(s.getConfig)(e);return{siteName:t.SiteName,ldapLoginFieldName:t.LdapLoginFieldName,passwordConfig:Object(l.B)(t)}},function(e){return{actions:Object(o.bindActionCreators)({switchLdapToEmail:n.switchLdapToEmail},e)}})(ae)}}]);
//# sourceMappingURL=15.a7b33c62e4acaeea5c51.js.map