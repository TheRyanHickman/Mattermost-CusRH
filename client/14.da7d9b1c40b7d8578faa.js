(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1505:function(e,t,n){"use strict";n.d(t,"a",function(){return b});n(88),n(43);var r=n(30),o=n.n(r),a=n(7),i=n.n(a),c=n(56),s=n(1482);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,m(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i.a.PureComponent),n=t,(r=[{key:"render",value:function(){return i.a.createElement("div",{id:"back_button",className:"signup-header"},i.a.createElement(s.a,{onClick:this.props.onClick,to:this.props.url},i.a.createElement(c.c,{id:"generic_icons.back",defaultMessage:"Back Icon"},function(e){return i.a.createElement("span",{id:"back_button_icon",className:"fa fa-1x fa-angle-left",title:e})}),i.a.createElement(c.c,{id:"web.header.back",defaultMessage:"Back"})))}}])&&u(n.prototype,r),o&&u(n,o),t}();d(b,"propTypes",{url:o.a.string,onClick:o.a.func}),d(b,"defaultProps",{url:"/"})},1510:function(e,t,n){e.exports=n.p+"files/786f906c373b98400b1e6f6c3341ce7d.png"},1569:function(e,t,n){"use strict";n.d(t,"a",function(){return d});n(88),n(43);var r=n(30),o=n.n(r),a=n(7),i=n.n(a),c=n(56);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,f(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,i.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.customDescriptionText,n=e.siteName,r=null;return r=t||i.a.createElement(c.c,{id:"web.root.signup_info",defaultMessage:"All team communication in one place, searchable and accessible anywhere"}),i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",{id:"site_name"},n),i.a.createElement("h4",{id:"site_description",className:"color--light"},r))}}])&&l(n.prototype,r),o&&l(n,o),t}();p(d,"propTypes",{customDescriptionText:o.a.string,siteName:o.a.string}),p(d,"defaultProps",{siteName:"Mattermost"})},1613:function(e,t,n){"use strict";n.d(t,"a",function(){return f});n(88),n(43);var r=n(7),o=n.n(r),a=n(56);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){return o.a.createElement(a.c,{id:"generic_icons.logout",defaultMessage:"Logout Icon"},function(e){return o.a.createElement("i",{className:"fa fa-1x fa-angle-left",title:e})})}}])&&c(n.prototype,r),i&&c(n,i),t}()},2366:function(e,t,n){"use strict";n.r(t);n(33),n(34),n(25),n(945);var r=n(418),o=n(20),a=n(435),i=n(308),c=n(248),s=n(24),l=n(14),u=n(96),f=n(31),m=n(12),p=n(1565),d=(n(88),n(43),n(116),n(211),n(305),n(306),n(74),n(117),n(30)),b=n.n(d),y=n(7),g=n.n(y),h=n(56),_=n(1482),v=n(1493),E=n(38),T=n(0),O=n(1510),w=n.n(O),P=n(1558),j=n(1505),S=n(1494),C=n(1571),N=n(1569),k=n(1613),M=n(1491),R=n(1766),I=n(1763);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,J(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,g.a.PureComponent),n=t,(r=[{key:"render",value:function(){return g.a.createElement("span",this.props,g.a.createElement(h.c,{id:"generic_icons.info",defaultMessage:"Info Icon"},function(e){return g.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:D,role:"icon","aria-label":e},g.a.createElement("g",{transform:"matrix(1.17647,0,0,1.17647,-1.55431e-15,-1.00573e-14)"},g.a.createElement("path",{d:"M8.5,0C3.797,0 0,3.797 0,8.5C0,13.203 3.797,17 8.5,17C13.203,17 17,13.203 17,8.5C17,3.797 13.203,0 8.5,0ZM10,8.5C10,7.672 9.328,7 8.5,7C7.672,7 7,7.672 7,8.5L7,12.45C7,13.278 7.672,13.95 8.5,13.95C9.328,13.95 10,13.278 10,12.45L10,8.5ZM8.5,3C9.328,3 10,3.672 10,4.5C10,5.328 9.328,6 8.5,6C7.672,6 7,5.328 7,4.5C7,3.672 7.672,3 8.5,3Z"})))}))}}])&&A(n.prototype,r),o&&A(n,o),t}(),D={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421},Y=n(23);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=G(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==B(o)&&"function"!=typeof o?Z(r):o,H(Z(n),"handleTeamClick",function(e){e.preventDefault(),n.props.onTeamClick(n.props.team)}),H(Z(n),"renderDescriptionTooltip",function(){var e=n.props.team;if(!e.description)return null;var t=g.a.createElement(R.a,{id:"team-description__tooltip"},e.description);return g.a.createElement(I.a,{delayShow:1e3,placement:"top",overlay:t,ref:"descriptionOverlay",rootClose:!0,container:Z(n)},g.a.createElement(q,{className:"icon icon--info"}))}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,g.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e,t=this.context.intl.formatMessage,n=this.props,r=n.canJoinPublicTeams,o=n.canJoinPrivateTeams,a=n.loading,i=n.team;e=a?g.a.createElement("span",{className:"fa fa-refresh fa-spin right signup-team__icon",title:t({id:"generic_icons.loading",defaultMessage:"Loading Icon"})}):g.a.createElement("span",{className:"fa fa-angle-right right signup-team__icon",title:t({id:"select_team.join.icon",defaultMessage:"Join Team Icon"})});var c=i.allow_open_invite&&r||!i.allow_open_invite&&o;return g.a.createElement("div",{className:"signup-team-dir"},this.renderDescriptionTooltip(),g.a.createElement("a",{href:"#",id:Y.h(i.display_name),onClick:c?this.handleTeamClick:null,className:c?"":"disabled"},g.a.createElement("span",{className:"signup-team-dir__name"},i.display_name),!i.allow_open_invite&&g.a.createElement("span",{className:"fa fa-lock light",title:t({id:"select_team.private.icon",defaultMessage:"Private team"})}),c&&e))}}])&&F(n.prototype,r),o&&F(n,o),t}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}H(V,"propTypes",{team:b.a.object.isRequired,onTeamClick:b.a.func.isRequired,loading:b.a.bool.isRequired,canJoinPublicTeams:b.a.bool.isRequired,canJoinPrivateTeams:b.a.bool.isRequired}),H(V,"contextTypes",{intl:h.i.isRequired});var ne="api.team.add_members.user_denied",re=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=X(t).call(this,e),n=!o||"object"!==W(o)&&"function"!=typeof o?$(r):o,te($(n),"handleTeamClick",function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var r,o,a,i,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,o=r.siteURL,a=r.currentUserRoles,n.setState({loadingTeamId:t.id}),e.next=4,n.props.actions.addUserToTeam(t.id,n.props.currentUserId);case 4:i=e.sent,c=i.data,s=i.error,c?n.props.history.push("/".concat(t.name,"/channels/").concat(T.Q.DEFAULT_CHANNEL)):s&&(l=s.message,s.server_error_id===ne&&(l=a.includes(T.Q.PERMISSIONS_SYSTEM_ADMIN)?g.a.createElement(M.b,{id:"join_team_group_constrained_denied_admin",defaultMessage:"You need to be a member of a linked group to join this team. You can add a group to this team [here](".concat(o,"/admin_console/user_management/groups)."),values:{siteURL:o}}):g.a.createElement(M.b,{id:"join_team_group_constrained_denied",defaultMessage:"You need to be a member of a linked group to join this team."})),n.setState({error:l,loadingTeamId:""}));case 8:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){z(a,r,o,i,c,"next",e)}function c(e){z(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()),te($(n),"handleLogoutClick",function(e){e.preventDefault(),Object(v.e)("/login")}),te($(n),"clearError",function(e){e.preventDefault(),n.setState({error:null})}),n.state={loadingTeamId:"",error:null},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,g.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.actions.getTeams(0,200)}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.actions,n=e.currentUserRoles;t.loadRolesIfNeeded(n.split(" "))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.canManageSystem,o=n.customDescriptionText,a=n.isMemberOfTeam,i=n.listableTeams,c=n.siteName,s=n.canCreateTeams,u=n.canJoinPublicTeams,f=n.canJoinPrivateTeams;if(this.state.loadingTeamId)e=g.a.createElement(S.a,null);else if(this.state.error)e=g.a.createElement("div",{className:"signup__content"},g.a.createElement("div",{className:"form-group has-error"},g.a.createElement("label",{className:"control-label"},this.state.error)));else{var m=[];i.forEach(function(e){(e.allow_open_invite&&u||!e.allow_open_invite&&f)&&m.push(g.a.createElement(V,{key:"team_"+e.name,team:e,onTeamClick:t.handleTeamClick,loading:t.state.loadingTeamId===e.id,canJoinPublicTeams:u,canJoinPrivateTeams:f}))}),0===m.length&&(s||r)?m=g.a.createElement("div",{className:"signup-team-dir-err"},g.a.createElement("div",null,g.a.createElement(h.c,{id:"signup_team.no_open_teams_canCreate",defaultMessage:"No teams are available to join. Please create a new team or ask your administrator for an invite."}))):0===m.length&&(m=g.a.createElement("div",{className:"signup-team-dir-err"},g.a.createElement("div",null,g.a.createElement(C.a,{permissions:[l.Permissions.CREATE_TEAM]},g.a.createElement(h.c,{id:"signup_team.no_open_teams_canCreate",defaultMessage:"No teams are available to join. Please create a new team or ask your administrator for an invite."})),g.a.createElement(C.a,{permissions:[l.Permissions.CREATE_TEAM],invert:!0},g.a.createElement(h.c,{id:"signup_team.no_open_teams",defaultMessage:"No teams are available to join. Please ask your administrator for an invite."}))))),e=g.a.createElement("div",{id:"teamsYouCanJoinContent",className:"signup__content"},g.a.createElement("h4",null,g.a.createElement(h.c,{id:"signup_team.join_open",defaultMessage:"Teams you can join: "})),g.a.createElement("div",{className:"signup-team-all"},m))}var p,d,b=g.a.createElement(C.a,{permissions:[l.Permissions.CREATE_TEAM]},g.a.createElement("div",{className:"margin--extra"},g.a.createElement(_.a,{id:"createNewTeamLink",to:"/create_team",className:"signup-team-login"},g.a.createElement(h.c,{id:"login.createTeam",defaultMessage:"Create a new team"}))));return E.n()||(p=g.a.createElement(C.a,{permissions:[l.Permissions.MANAGE_SYSTEM]},g.a.createElement("div",{className:"margin--extra hidden-xs"},g.a.createElement(_.a,{to:"/admin_console",className:"signup-team-login"},g.a.createElement(h.c,{id:"signup_team_system_console",defaultMessage:"Go to System Console"}))))),d=this.state.error?g.a.createElement(j.a,{onClick:this.clearError}):a?g.a.createElement(j.a,null):g.a.createElement("div",{className:"signup-header"},g.a.createElement("a",{href:"#",id:"logout",onClick:this.handleLogoutClick},g.a.createElement(k.a,null),g.a.createElement(h.c,{id:"web.header.logout",defaultMessage:"Logout"}))),g.a.createElement("div",null,g.a.createElement(P.a,null),d,g.a.createElement("div",{className:"col-sm-12"},g.a.createElement("div",{className:"signup-team__container"},g.a.createElement("img",{alt:"signup team logo",className:"signup-team-logo",src:w.a}),g.a.createElement(N.a,{customDescriptionText:o,siteName:c}),e,b,p)))}}])&&K(n.prototype,r),o&&K(n,o),t}();te(re,"propTypes",{currentUserId:b.a.string.isRequired,currentUserRoles:b.a.string,customDescriptionText:b.a.string,isMemberOfTeam:b.a.bool.isRequired,listableTeams:b.a.array,siteName:b.a.string,canCreateTeams:b.a.bool.isRequired,canManageSystem:b.a.bool.isRequired,canJoinPublicTeams:b.a.bool.isRequired,canJoinPrivateTeams:b.a.bool.isRequired,history:b.a.object,siteURL:b.a.string,actions:b.a.shape({getTeams:b.a.func.isRequired,loadRolesIfNeeded:b.a.func.isRequired,addUserToTeam:b.a.func.isRequired}).isRequired});t.default=Object(a.f)(Object(r.connect)(function(e){var t=Object(s.getConfig)(e),n=Object(m.getCurrentUser)(e),r=Object.values(Object(f.getTeamMemberships)(e));return{currentUserId:n.id,currentUserRoles:n.roles||"",customDescriptionText:t.CustomDescriptionText,isMemberOfTeam:r&&r.length>0,listableTeams:Object(f.getSortedListableTeams)(e,n.locale),siteName:t.SiteName,canCreateTeams:Object(u.haveISystemPermission)(e,{permission:l.Permissions.CREATE_TEAM}),canManageSystem:Object(u.haveISystemPermission)(e,{permission:l.Permissions.MANAGE_SYSTEM}),canJoinPublicTeams:Object(u.haveISystemPermission)(e,{permission:l.Permissions.JOIN_PUBLIC_TEAMS}),canJoinPrivateTeams:Object(u.haveISystemPermission)(e,{permission:l.Permissions.JOIN_PRIVATE_TEAMS}),siteURL:t.SiteURL}},function(e){return{actions:Object(o.bindActionCreators)({getTeams:i.getTeams,loadRolesIfNeeded:c.loadRolesIfNeeded,addUserToTeam:p.a},e)}})(re))}}]);
//# sourceMappingURL=14.da7d9b1c40b7d8578faa.js.map